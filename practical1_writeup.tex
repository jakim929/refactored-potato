\documentclass[11pt]{article}
% \pagestyle{empty}

\usepackage{amssymb}
% \usepackage{times}
% \usepackage{mathptm}

\title{Practical 1: Predicting the Efficiency of Organic Photovoltaics}
\author{Spencer Kim, James Kim, Helen Wu}
\date{\today}

\begin{document}

\maketitle
\section{Technical Approach}
Throughout this process, we measured a rough estimate with RMSE but in the end use $k$-fold to provide our reported errors. 

We started off trying several different models:We tried Lasso regression because we suspected the resulting weight matrix would be sparse (probably not all of the 257 provided features are useful in predicting the HOMO-LUMO gap). We also tried ridge regression and elastic net from sklearn, just in case our continued large error was due to overfitting. However, these yielded results no better than the simple linear regression, so here we decided to try a different approach.

We then moved on to trying bagging and boosting techniques with linear regression, attempting to decrease variance in the models and potentially decrease generalized error. However, this did not result in significantly less error when we tested it against the test set. We tried boosting and bagging with many different models, including linear regression, lasso regression (because we suspected that the the resulting weight matrix would be sparse), and ridge regression, but all of them yielded similar error values to linear regression.

Because we were not making headway along this vein, we then surmised that perhaps the provided features were not very good at predicting the HOMO-LUMO gap, at least by themselves. We looked into how to extract new features with rdkit. We saw a feature called Morgan fingerprinting which had the possibility of giving us bit vector of whatever size we desired. We first tried a bit vector of 512 with plain linear regression (throwing out the original data). This data yielded better results than that we obtained with the original data. So, we then increased the Morgan fingerprint bit vector of 1024 for each molecule with plain linear regression, and this yielded even better results. Following this, we used random forest, and this approach worked yet better.

\section{Results}

\begin{center}
\begin{tabular}{|c|c|c|c|}
\hline
Regression type & Feature Set & CV Error & Test Error\\
\hline
Linear &Given &&\\
Random Forest & Given&&\\
Ridge & Given&&\\
Lasso &Given&&\\
Linear&Morgan&&\\
Ridge&Morgan&&\\
Lasso&Morgan&&\\
Random Forest&Morgan&&\\
\hline
\end{tabular}
\end{center}

\section{Discussion}
Random forest probably works so well on this data set because it is quick on large data sets, and it is very plausible that similarities in a few of the bits of the Morgan Fingerprint almost completely account for similarities between HOMO-LUMO gap.


\end{document}